---
title: "HW2"
author: "Miriam Lachs"
date: "2024-09-27"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
```

# Problem 1 

First let's import and clean the data

```{r}
subway_df =
  read_csv("NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  mutate(route8 = as.character(route8),
         route9 = as.character(route9),
         route10 = as.character(route10),
         route11 = as.character(route11)) %>% 
  pivot_longer(cols = route1:route11,values_to = 'route',names_to = 'route_num') %>% 
  select(line,station_name,station_latitude,station_longitude,entry,vending,entrance_type,ada,route_num,route) %>% 
  mutate(entry = ifelse(entry=='YES',TRUE,FALSE))
```

This data set contains information about the NYC Subway. It contains variables about the various lines and subway stations, including the name, the stations location in latitude and longitude, the various routes it service, the types of entrances and weather its ADA compliant. 

To clean this data first the column names were cleaned. Next some of the route variables were converted to character vectors. This was done to make all the routes the same, so they could be pivoted. That was the next step. After that the columns of interest were selected. Finally, the entry variable was converted to a logical vector. The final dimensions of the table are 20548 rows x 10 columns.This data is relatively tidy since we pivoted the route variables. 

```{r}
subway_df %>% 
  distinct(line,station_name) %>% 
  count()
```

There are 465 distinct subway stations.

```{r}
subway_df %>% 
  distinct(line,station_name,ada) %>% 
  count(ada)
```

There are 84 ADA compliant stations.

```{r}
subway_df %>% 
  filter(vending=='NO',entry==TRUE) %>% 
  count()
subway_df %>% 
  filter(vending=='NO') %>% 
  count()

759/2013
```
37.7% of station entrances / exits without vending allow entrance

```{r}
subway_df %>% 
  filter(route=='A') %>% 
  distinct(line,station_name) %>% count()

subway_df %>% 
  filter(route=='A') %>% 
  distinct(line,station_name,ada) %>% count(ada)
```
There are 60 stations that serve the A train, 17 of which are ADA compliant.
