HW2
================
Miriam Lachs
2024-09-27

# Problem 1

First let’s import and clean the data

``` r
subway_df =
  read_csv("NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  mutate(route8 = as.character(route8),
         route9 = as.character(route9),
         route10 = as.character(route10),
         route11 = as.character(route11)) %>% 
  pivot_longer(cols = route1:route11,values_to = 'route',names_to = 'route_num') %>% 
  select(line,station_name,station_latitude,station_longitude,entry,vending,entrance_type,ada,route_num,route) %>% 
  mutate(entry = ifelse(entry=='YES',TRUE,FALSE))
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

This data set contains information about the NYC Subway. It contains
variables about the various lines and subway stations, including the
name, the stations location in latitude and longitude, the various
routes it service, the types of entrances and weather its ADA compliant.

To clean this data first the column names were cleaned. Next some of the
route variables were converted to character vectors. This was done to
make all the routes the same, so they could be pivoted. That was the
next step. After that the columns of interest were selected. Finally,
the entry variable was converted to a logical vector. The final
dimensions of the table are 20548 rows x 10 columns.This data is
relatively tidy since we pivoted the route variables.

``` r
subway_df %>% 
  distinct(line,station_name) %>% 
  count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1   465

There are 465 distinct subway stations.

``` r
subway_df %>% 
  distinct(line,station_name,ada) %>% 
  count(ada)
```

    ## # A tibble: 2 × 2
    ##   ada       n
    ##   <lgl> <int>
    ## 1 FALSE   381
    ## 2 TRUE     84

There are 84 ADA compliant stations.

``` r
subway_df %>% 
  filter(vending=='NO',entry==TRUE) %>% 
  count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1   759

``` r
subway_df %>% 
  filter(vending=='NO') %>% 
  count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1  2013

``` r
759/2013
```

    ## [1] 0.3770492

37.7% of station entrances / exits without vending allow entrance

``` r
subway_df %>% 
  filter(route=='A') %>% 
  distinct(line,station_name) %>% count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1    60

``` r
subway_df %>% 
  filter(route=='A') %>% 
  distinct(line,station_name,ada) %>% count(ada)
```

    ## # A tibble: 2 × 2
    ##   ada       n
    ##   <lgl> <int>
    ## 1 FALSE    43
    ## 2 TRUE     17

There are 60 stations that serve the A train, 17 of which are ADA
compliant.

## Problem 2

Load and clean Mr.Trash Wheel Data

``` r
mr_tw_df=
  read_excel('202309 Trash Wheel Collection Data.xlsx',sheet = 'Mr. Trash Wheel',range = 'A2:N586') %>% 
  janitor::clean_names() %>% 
  mutate(sports_balls = as.integer(sports_balls), trash_wheel ='MR', year = as.numeric(year), date=make_date(year,month(date),day(date)))

professor_tw_df=
  read_excel('202309 Trash Wheel Collection Data.xlsx',sheet = 'Professor Trash Wheel',range = 'A2:M108') %>% 
  janitor::clean_names() %>% 
  mutate(trash_wheel = 'PROFESSOR',date=make_date(year,month(date),day(date)))

gwynnda_tw_df=
  read_excel('202309 Trash Wheel Collection Data.xlsx',sheet = 'Gwynnda Trash Wheel',range = 'A2:L157') %>% 
  janitor::clean_names() %>% 
  mutate(trash_wheel = 'GWYNNDA',date=make_date(year,month(date),day(date)))
```

join the data sets

``` r
full_tw_df= bind_rows(mr_tw_df,professor_tw_df,gwynnda_tw_df)
```

The full trash wheel data set is comprised of the data from three
different trash wheels, Mr. Trash Wheel, Professor Trash Wheel and
Gwynnda Trash Wheel. The data looks at trash collected from 2014-05-16
to 2023-06-30 with a total of 845 observations. While there are 15
variables only 13 are shared by all three wheels. The mean amount of
trash collected is 3.0094793 tons. While the total number of homes
powered is NA.

``` r
full_tw_df %>% 
  filter(trash_wheel=='PROFESSOR') %>% 
  select(weight_tons) %>% 
  sum()
```

    ## [1] 216.26

The total wieght collected by Professor trash wheel is 216.26 tons.

``` r
full_tw_df %>% 
  filter(trash_wheel=='GWYNNDA',month=='June',year==2022) %>% 
  select(cigarette_butts) %>% 
  sum()
```

    ## [1] 18120

the total number of cigarette butts collected by Gwynnda in June of 2022
was 18120
