HW2
================
Miriam Lachs
2024-09-27

# Problem 1

First let’s import and clean the data

``` r
subway_df =
  read_csv("NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  mutate(route8 = as.character(route8),
         route9 = as.character(route9),
         route10 = as.character(route10),
         route11 = as.character(route11)) %>% 
  pivot_longer(cols = route1:route11,values_to = 'route',names_to = 'route_num') %>% 
  select(line,station_name,station_latitude,station_longitude,entry,vending,entrance_type,ada,route_num,route) %>% 
  mutate(entry = ifelse(entry=='YES',TRUE,FALSE))
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

This data set contains information about the NYC Subway. It contains
variables about the various lines and subway stations, including the
name, the stations location in latitude and longitude, the various
routes it service, the types of entrances and weather its ADA compliant.

To clean this data first the column names were cleaned. Next some of the
route variables were converted to character vectors. This was done to
make all the routes the same, so they could be pivoted. That was the
next step. After that the columns of interest were selected. Finally,
the entry variable was converted to a logical vector. The final
dimensions of the table are 20548 rows x 10 columns.This data is
relatively tidy since we pivoted the route variables.

``` r
subway_df %>% 
  distinct(line,station_name) %>% 
  count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1   465

There are 465 distinct subway stations.

``` r
subway_df %>% 
  distinct(line,station_name,ada) %>% 
  count(ada)
```

    ## # A tibble: 2 × 2
    ##   ada       n
    ##   <lgl> <int>
    ## 1 FALSE   381
    ## 2 TRUE     84

There are 84 ADA compliant stations.

``` r
subway_df %>% 
  filter(vending=='NO',entry==TRUE) %>% 
  count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1   759

``` r
subway_df %>% 
  filter(vending=='NO') %>% 
  count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1  2013

``` r
759/2013
```

    ## [1] 0.3770492

37.7% of station entrances / exits without vending allow entrance

``` r
subway_df %>% 
  filter(route=='A') %>% 
  distinct(line,station_name) %>% count()
```

    ## # A tibble: 1 × 1
    ##       n
    ##   <int>
    ## 1    60

``` r
subway_df %>% 
  filter(route=='A') %>% 
  distinct(line,station_name,ada) %>% count(ada)
```

    ## # A tibble: 2 × 2
    ##   ada       n
    ##   <lgl> <int>
    ## 1 FALSE    43
    ## 2 TRUE     17

There are 60 stations that serve the A train, 17 of which are ADA
compliant.
